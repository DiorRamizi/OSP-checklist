<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MOP Checklist</title>
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(180deg, #041b3b 0%, #061d40 100%);
      color: #e6eefc;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
    }

    body.light-mode {
      background: #ffffff;
      color: #1a2a44;
    }

    header {
      width: 100%;
      text-align: center;
      padding: 30px 0;
    }

    .logo-space {
      height: 60px;
      margin-bottom: 10px;
    }

    #logo {
      max-width: 287px;
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: #c0d833;
      letter-spacing: 1px;
    }

    body.light-mode h1 {
      color: #2a5a9a;
    }

    .container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
      padding: 30px;
      width: 100%;
      max-width: 700px;
      text-align: center;
      margin-bottom: 40px;
      border: 1px solid #2a4a88;
    }

    body.light-mode .container {
      background: #e2e5ea;
      box-shadow: 0 0 15px rgba(3, 36, 36, 0.596);
    }

    label, select, button {
      font-size: 1.1rem;
    }

    select, button {
      padding: 10px 15px;
      border-radius: 8px;
      border: none;
      margin: 8px;
    }

    select {
      background: #0b2a5a;
      color: #e6eefc;
      border: 1px solid #4aa3ff;
    }

    body.light-mode select {
      background: #ffffff;
      color: #1a2a44;
      border: 1px solid #2a5a9a;
    }

    button {
      background: #c0d833;
      color: #041b3b;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
    }

    body.light-mode button {
      background: #2a5a9a;
      color: #ffffff;
    }

    button:hover {
      background: #d4ea43;
      transform: scale(1.05);
    }

    body.light-mode button:hover {
      background: #3a7abc;
    }

    .device-form {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid #2a4a88;
      border-radius: 10px;
      padding: 20px 120px;
      margin-top: 25px;
      text-align: left;
      opacity: 0;
      animation: fadeIn 0.6s ease forwards;
       box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
    }

    .device-container{
      display: flex;
      align-items: center;
    }

    body.light-mode .device-form {
      background: #e2e5ea;
      box-shadow: 0 0 15px rgba(3, 36, 36, 0.596);
      border: 1px solid #d1d9e6;
    }

    .device-form h2 {
      font-size: 1.4rem;
      color: #4aa3ff;
      margin-bottom: 8px;
    }

    body.light-mode .device-form h2 {
      color: #2a5a9a;
    }

    .checklist label {
      display: block;
      margin: 6px 0;
      font-size: 1.05rem;
    }

    input[type="checkbox"] {
      transform: scale(1.3);
      margin-right: 10px;
    }

    .result {
      margin-top: 15px;
      font-weight: bold;
      font-size: 1.1rem;
      padding: 10px;
      border-radius: 8px;
      width: 40%;
      max-width: 600px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .success {
      background: rgba(0, 255, 100, 0.1);
      color: #53c15c;
      border: 1px solid #c0d833;
      border-radius: 8px;
      padding: 20px;
    }

    body.light-mode .success {
      background: rgba(0, 255, 100, 0.2);
      color: #2a7a3a;
      border: 1px solid #2a7a3a;
    }

    .error {
      background: rgba(255, 80, 80, 0.08);
      color: #ff9b9b;
      border: 1px solid #ff7a7a;
      text-align: left;
      padding: 20px 30px;
      border-radius: 10px;
      animation: fadeIn 0.4s ease;
      text-align: center;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.481);
    }

    body.light-mode .error {
      background: rgba(255, 80, 80, 0.15);
      color: #d32f2f;
      border: 1px solid #d32f2f;
    }

    .error strong {
      display: block;
      color: #ff7a7a;
      font-size: 1.5rem;
    }

    body.light-mode .error strong {
      color: #d32f2f;
    }

    .error-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .error-item {
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    body.light-mode .error-item {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .error-item:last-child {
      border-bottom: none;
    }

    .error-item span {
      font-size: 0.95rem;
      color: #ffdcdc;
    }

    body.light-mode .error-item span {
      color: #b71c1c;
    }

    .version {
      text-align: center;
      font-size: 1.1rem;
      color: #c1c9d9;
    }

    body.light-mode .version {
      color: #354056;
    }

    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #c0d833;
      color: #041b3b;
      padding: 10px 20px;
      border-radius: 20px;
      border: none;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
      font-size: 1.2rem;
    }

    body.light-mode .theme-toggle {
      background: #2a5a9a;
      color: #ffffff;
    }

    .theme-toggle:hover {
      background: #d4ea43;
      transform: scale(1.05);
    }

    body.light-mode .theme-toggle:hover {
      background: #3a7abc;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 600px) {
      .device-form {
        padding: 20px 20px;
      }
      .result {
        width: 90%;
      }
      .theme-toggle {
        top: 10px;
        right: 10px;
        padding: 8px 15px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <button class="theme-toggle" id="themeToggle">⏾</button>
  <header>
    <div class="logo-space">
      <img id="logo" src="https://nettxio.com/wp-content/uploads/2022/07/nettxio-1.svg" alt="Logo">
    </div>
    <h1>MOP CHECKLIST</h1>
    <div class="version">
    version 1.2.4 — Done by the Interns
  </div>
  </header>

  <div class="container">
    <div class="select-devices">
      <label for="numDevices">Select number of devices (1–10):</label>
      <select id="numDevices">
        <option value="" disabled selected>Select</option>
      </select>
      <button id="createForms">Create Forms</button>
    </div>
  </div>

  <div id="formsContainer"></div>

  <button id="validateBtn" style="margin-top:20px;">Validate Checks</button>
  <div id="resultMessage" class="result"></div>

  <script>
    // Theme toggle functionality
    const themeToggle = document.getElementById('themeToggle');
    const logo = document.getElementById('logo');
    const darkModeLogo = 'https://nettxio.com/wp-content/uploads/2022/07/nettxio-1.svg';
    const lightModeLogo = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT0Z0UlpyhQviNHp2LuYPCo-Egv46g6PoQZaQ&s';

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('light-mode');
      themeToggle.textContent = document.body.classList.contains('light-mode')
        ? '☀︎'
        : '⏾';
      logo.src = document.body.classList.contains('light-mode')
        ? lightModeLogo
        : darkModeLogo;
    });

    // Generate select options
    const select = document.getElementById('numDevices');
    for (let i = 1; i <= 10; i++) {
      const option = document.createElement('option');
      option.value = i;
      option.textContent = i;
      select.appendChild(option);
    }

    const devices = [
      "Cisco 15454/DWDM",
      "Cyan Z77/Z33/Z22",
      "Coriant",
      "Ciena 3928",
      "Ciena 6500",
      "Ciena 5142",
      "Ciena 5170",
      "Ciena 5166",
      "Infinera Nano 7100/G30",
      "Infinera DTNx",
      "Transmode TM301/3000"
    ];

    const formsContainer = document.getElementById("formsContainer");
    const createFormsBtn = document.getElementById("createForms");
    const validateBtn = document.getElementById("validateBtn");
    const resultMessage = document.getElementById("resultMessage");

    createFormsBtn.addEventListener("click", () => {
      const num = parseInt(document.getElementById("numDevices").value);
      formsContainer.innerHTML = "";
      resultMessage.innerHTML = "";

      if (!num || num < 1 || num > 10) {
        alert("Please select a valid number between 1 and 10.");
        return;
      }

      for (let i = 1; i <= num; i++) {
        const form = document.createElement("div");
        form.className = "device-form";
        form.innerHTML = `
          <h2>Device ${i}</h2>
          <label>Select device type:</label><br />
          </div>
          <select class="deviceType">
            <option value="" disabled selected>Select a device</option>
            ${devices.map(d => `<option value="${d}">${d}</option>`).join("")}
          </select>
          <div class="checklist"></div>
        `;
        formsContainer.appendChild(form);
      }

      document.querySelectorAll(".deviceType").forEach(select => {
        select.addEventListener("change", (e) => {
          const checklistDiv = e.target.parentElement.querySelector(".checklist");
          const type = e.target.value;
          checklistDiv.innerHTML = createChecklist(type);
        });
      });

      formsContainer.scrollIntoView({ behavior: "smooth" });
    });

    function createChecklist(type) {
      let checks = [];
      if (type.includes("Infinera")) {
        checks = ["Span Loss", "Services", "Alarms"];
      } else if (type.includes("Cisco")) {
        checks = ["Alarms/Conditions", "Span Loss"];
      } else if (type.includes("Cyan")) {
        checks = ["Span Loss", "Alarms"];
      } else {
        checks = ["Span Loss", "Alarms"];
      }

      return `
        <div class="checklist">
          <h3 style="color:#c0d833;">Checklist</h3>
          ${checks.map(
            (c, i) => `
            <label>
              <input type="checkbox" class="checkItem" /> ${i + 1}. ${c}
            </label>`
          ).join("")}
        </div>
      `;
    }

    validateBtn.addEventListener("click", () => {
      const deviceForms = document.querySelectorAll(".device-form");
      let allChecked = true;
      let errorItems = [];

      deviceForms.forEach((form, index) => {
        const checkboxes = form.querySelectorAll(".checkItem");
        const unchecked = Array.from(checkboxes).filter(cb => !cb.checked);

        if (unchecked.length > 0) {
          allChecked = false;
          errorItems.push(`
            <li class="error-item">
              <strong>Device ${index + 1}</strong>
              <span>${unchecked.length} unchecked:</span>
              <span>${unchecked.map(cb => cb.parentElement.textContent.trim()).join(", ")}</span>
            </li>
          `);
        }
      });

      resultMessage.innerHTML = "";
      if (deviceForms.length === 0) {
        resultMessage.innerHTML = `<div class="error">⚠️ Please create and fill out device forms first.</div>`;
      } else if (allChecked) {
        resultMessage.innerHTML = `<div class="success">✅ All checks are completed successfully!</div>`;
      } else {
        resultMessage.innerHTML = `
          <div class="error">
            <strong>⚠️ Unchecked Items:</strong>
            <ul class="error-list">
              ${errorItems.join("")}
            </ul>
          </div>
        `;
      }
    });
  </script>
</body>
</html>
